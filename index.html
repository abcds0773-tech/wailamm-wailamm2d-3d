<!DOCTYPE html>
<html lang="my">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Waila 2D3D Live</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-800 text-white min-h-screen">

  <!-- Header -->
  <header class="text-center py-4 bg-slate-900">
    <h1 class="text-xl font-bold">üåü Waila 2D3D Live Results</h1>
    <p class="text-xs text-slate-300">·Äô·Äº·Äî·Ä∫·Äô·Ä¨·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·ÄÑ·Ä∂ 2D / 3D ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏</p>
  </header>

  <!-- Main Number -->
  <div class="text-center py-6">
    <div id="live2d" class="text-7xl font-bold">--</div>
    <div id="status" class="mt-2 text-green-400 text-sm">‚óè LIVE</div>
  </div>

  <!-- Cards -->
  <div class="space-y-4 px-4">
    <!-- 12:01 PM -->
    <div class="bg-slate-700 rounded-xl p-4">
      <div class="text-center font-semibold">12:01 PM</div>
      <div class="grid grid-cols-3 text-center mt-2">
        <div>
          <div class="text-xs text-slate-300">Set</div>
          <div id="set1">--</div>
        </div>
        <div>
          <div class="text-xs text-slate-300">Value</div>
          <div id="value1">--</div>
        </div>
        <div>
          <div class="text-xs text-slate-300">2D</div>
          <div id="d2_1" class="text-yellow-400">--</div>
        </div>
      </div>
    </div>

    <!-- 4:30 PM -->
    <div class="bg-slate-700 rounded-xl p-4">
      <div class="text-center font-semibold">4:30 PM</div>
      <div class="grid grid-cols-3 text-center mt-2">
        <div>
          <div class="text-xs text-slate-300">Set</div>
          <div id="set2">--</div>
        </div>
        <div>
          <div class="text-xs text-slate-300">Value</div>
          <div id="value2">--</div>
        </div>
        <div>
          <div class="text-xs text-slate-300">2D</div>
          <div id="d2_2" class="text-yellow-400">--</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Previous Results -->
  <section class="px-4 mt-6">
    <h2 class="font-semibold mb-2">Previous Results</h2>
    <div id="results3d" class="bg-slate-700 rounded-xl p-4 text-sm">
      Loading...
    </div>
  </section>

  <!-- Footer -->
  <div class="grid grid-cols-5 text-center text-xs py-4 mt-6 bg-slate-900">
    <div>Live</div>
    <div>Feed</div>
    <div>Gift</div>
    <div>Analyze</div>
    <div>Profile</div>
  </div>

  <!-- Script -->
  <script>
    async function fetchResults() {
      try {
        const response = await fetch('https://api.thaistock2d.com/live');
        const data = await response.json();

        // Live main number
        document.getElementById('live2d').textContent = data.live.twod;

        // Today result (use same data for demo)
        document.getElementById('set1').textContent = data.live.set;
        document.getElementById('value1').textContent = data.live.value;
        document.getElementById('d2_1').textContent = data.live.twod;

        document.getElementById('set2').textContent = data.live.set;
        document.getElementById('value2').textContent = data.live.value;
        document.getElementById('d2_2').textContent = data.live.twod;

        // Previous results
        const results3d = document.getElementById('results3d');
        results3d.innerHTML = '';
        const ul = document.createElement('ul');

        data.result.forEach(item => {
          const li = document.createElement('li');
          li.textContent =
            `Set: ${item.set} | Value: ${item.value} | Time: ${item.open_time} | 2D: ${item.twod}`;
          ul.appendChild(li);
        });

        results3d.appendChild(ul);

      } catch (err) {
        console.error(err);
        document.getElementById('results3d').textContent =
          'Error loading results';
      }
    }

    fetchResults();
    setInterval(fetchResults, 60000);
  </script>

</body>
</html>
